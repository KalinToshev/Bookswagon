<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="/fragments/commons::head"></head>
<body>
    <th:block sec:authorize="isAnonymous()">
        <nav th:replace="/fragments/commons::nav#guest-nav"></nav>
    </th:block>
    <th:block sec:authorize="isAuthenticated()">
        <nav th:replace="/fragments/commons::nav#logged-nav"></nav>
    </th:block>
    <div class="container min-vh-100 text-white d-flex justify-content-center flex-column align-items-center pt-3 pb-3">
        <h1>Register</h1>
        <hr class="my-3 bg-white w-100">
        <form class="p-4 rounded" id="form-container" th:action="@{/users/register}" th:method="post" th:object="${registerUserEntityDTO}" autocomplete="off">
            <div class="d-flex flex-column mb-3">
                <label for="firstName" class="form-label">
                    First Name:
                </label>
                <input type="text" name="firstName" id="firstName" class="form-control" th:field="*{firstName}" th:errorclass="bg-danger">
                <small th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="text-danger"></small>
                <p id="firstNameError" class="text-danger"></p>
            </div>
            <div class="d-flex flex-column mb-3">
                <label for="lastName" class="form-label">
                    Last Name:
                </label>
                <input type="text" name="lastName" id="lastName" class="form-control" th:field="*{lastName}" th:errorclass="bg-danger">
                <small th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="text-danger"></small>
                <p id="lastNameError" class="text-danger"></p>
            </div>
            <div class="d-flex flex-column mb-3">
                <label for="username" class="form-label">
                    Username:
                </label>
                <input type="text" name="username" id="username" class="form-control" th:field="*{username}" th:errorclass="bg-danger">
                <small th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="text-danger"></small>
                <p id="usernameError" class="text-danger"></p>
            </div>
            <div class="d-flex flex-column mb-3">
                <label for="email" class="form-label">
                    Email:
                </label>
                <input type="email" name="email" id="email" class="form-control" th:field="*{email}" th:errorclass="bg-danger">
                <small th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></small>
                <p id="emailError" class="text-danger"></p>
            </div>
            <div class="d-flex flex-column mb-3">
                <label for="password" class="form-label">
                    Password:
                </label>
                <input type="password" name="password" id="password" class="form-control" th:field="*{password}" th:errorclass="bg-danger">
                <small th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger"></small>
                <p id="passwordError" class="text-danger"></p>
            </div>
            <div class="d-flex flex-column mb-4">
                <label for="confirmPassword" class="form-label">
                    Confirm Password:
                </label>
                <input type="password" name="confirmPassword" id="confirmPassword" class="form-control" th:field="*{confirmPassword}" th:errorclass="bg-danger">
                <small th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="text-danger"></small>
                <p id="confirmPasswordError" class="text-danger"></p>
            </div>
            <input type="submit" value="REGISTER" class="btn btn-primary w-100">
        </form>
    </div>
    <footer th:replace="/fragments/commons::footer"></footer>
    <script src="/js/formWidthControl.js"></script>
    <script src="/js/registerFormValidation.js"></script>
</body>
</html>